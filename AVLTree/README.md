# ⚖️📏 AVL 木 (AVLTree)

AVL 木の C 言語での実装例です。
`stdio.h` と `stdlib.h` のみ使用しています。

## コンパイル

```bash
cd ./AVLTree
gcc ./avl.c ./tree.c -o ./avl.out
```

## 実行

```bash
./avl.out

# 60 を挿入します。
挿入しました。木構造を降順で表示します。
♢ >>>	60 ⚖️0 h0 [  ]

# 40 を挿入します。
高さを更新しました。(-1 -> 0) 木構造を降順で表示します。
└	40 ⚖️0 h0 [  P60]
平衡定数を更新しました。(L1 - R0 = 1)木構造を降順で表示します。
♢ >>>	60 ⚖️1 h0 [L40  ]
|	└	40 ⚖️0 h0 [  P60]
高さを更新しました。(0 -> 1) 木構造を降順で表示します。
♢ >>>	60 ⚖️1 h1 [L40  ]
|	└	40 ⚖️0 h0 [  P60]
挿入しました。平衡定数が不正なノードの修正を開始します。木構造を降順で表示します。
♢ >>>	60 ⚖️1 h1 [L40  ]
|	└	40 ⚖️0 h0 [  P60]
挿入しました。木構造を降順で表示します。
♢ >>>	60 ⚖️1 h1 [L40  ]
|	└	40 ⚖️0 h0 [  P60]

# 30 を挿入します。
高さを更新しました。(-1 -> 0) 木構造を降順で表示します。
└	30 ⚖️0 h0 [  P40]
平衡定数を更新しました。(L1 - R0 = 1)木構造を降順で表示します。
└	40 ⚖️1 h0 [L30  P60]
|	└	30 ⚖️0 h0 [  P40]
高さを更新しました。(0 -> 1) 木構造を降順で表示します。
└	40 ⚖️1 h1 [L30  P60]
|	└	30 ⚖️0 h0 [  P40]
平衡定数を更新しました。(L2 - R0 = 2)木構造を降順で表示します。
♢ >>>	60 ⚖️2 h1 [L40  ]
|	└	40 ⚖️1 h1 [L30  P60]
|	|	└	30 ⚖️0 h0 [  P40]
高さを更新しました。(1 -> 2) 木構造を降順で表示します。
♢ >>>	60 ⚖️2 h2 [L40  ]
|	└	40 ⚖️1 h1 [L30  P60]
|	|	└	30 ⚖️0 h0 [  P40]
挿入しました。平衡定数が不正なノードの修正を開始します。木構造を降順で表示します。
♢ >>>	60 ⚖️2 h2 [L40  ]
|	└	40 ⚖️1 h1 [L30  P60]
|	|	└	30 ⚖️0 h0 [  P40]
平衡定数が不正なノードを発見しました。α: 40, β: 60
パターン1. 最も高い部分木が、βノードの左左孫に存在する場合
平衡定数を更新しました。(L0 - R0 = 0)木構造を降順で表示します。
┌	60 ⚖️0 h2 [  P40]
高さを更新しました。(2 -> 0) 木構造を降順で表示します。
┌	60 ⚖️0 h0 [  P40]
平衡定数を更新しました。(L1 - R1 = 0)木構造を降順で表示します。
|	┌	60 ⚖️0 h0 [  P40]
♢ >>>	40 ⚖️0 h1 [L30 R60 ]
|	└	30 ⚖️0 h0 [  P40]
高さを更新しました。(-1 -> 1) 木構造を降順で表示します。
|	┌	60 ⚖️0 h0 [  P40]
♢ >>>	40 ⚖️0 h1 [L30 R60 ]
|	└	30 ⚖️0 h0 [  P40]
挿入しました。木構造を降順で表示します。
|	┌	60 ⚖️0 h0 [  P40]
♢ >>>	40 ⚖️0 h1 [L30 R60 ]
|	└	30 ⚖️0 h0 [  P40]

# 10 を挿入します。
高さを更新しました。(-1 -> 0) 木構造を降順で表示します。
└	10 ⚖️0 h0 [  P30]
平衡定数を更新しました。(L1 - R0 = 1)木構造を降順で表示します。
└	30 ⚖️1 h0 [L10  P40]
|	└	10 ⚖️0 h0 [  P30]
高さを更新しました。(0 -> 1) 木構造を降順で表示します。
└	30 ⚖️1 h1 [L10  P40]
|	└	10 ⚖️0 h0 [  P30]
平衡定数を更新しました。(L2 - R1 = 1)木構造を降順で表示します。
|	┌	60 ⚖️0 h0 [  P40]
♢ >>>	40 ⚖️1 h1 [L30 R60 ]
|	└	30 ⚖️1 h1 [L10  P40]
|	|	└	10 ⚖️0 h0 [  P30]
高さを更新しました。(1 -> 2) 木構造を降順で表示します。
|	┌	60 ⚖️0 h0 [  P40]
♢ >>>	40 ⚖️1 h2 [L30 R60 ]
|	└	30 ⚖️1 h1 [L10  P40]
|	|	└	10 ⚖️0 h0 [  P30]
挿入しました。平衡定数が不正なノードの修正を開始します。木構造を降順で表示します。
|	┌	60 ⚖️0 h0 [  P40]
♢ >>>	40 ⚖️1 h2 [L30 R60 ]
|	└	30 ⚖️1 h1 [L10  P40]
|	|	└	10 ⚖️0 h0 [  P30]
挿入しました。木構造を降順で表示します。
|	┌	60 ⚖️0 h0 [  P40]
♢ >>>	40 ⚖️1 h2 [L30 R60 ]
|	└	30 ⚖️1 h1 [L10  P40]
|	|	└	10 ⚖️0 h0 [  P30]

# 50 を挿入します。
高さを更新しました。(-1 -> 0) 木構造を降順で表示します。
└	50 ⚖️0 h0 [  P60]
平衡定数を更新しました。(L1 - R0 = 1)木構造を降順で表示します。
┌	60 ⚖️1 h0 [L50  P40]
|	└	50 ⚖️0 h0 [  P60]
高さを更新しました。(0 -> 1) 木構造を降順で表示します。
┌	60 ⚖️1 h1 [L50  P40]
|	└	50 ⚖️0 h0 [  P60]
平衡定数を更新しました。(L2 - R2 = 0)木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h2 [L30 R60 ]
|	└	30 ⚖️1 h1 [L10  P40]
|	|	└	10 ⚖️0 h0 [  P30]
挿入しました。平衡定数が不正なノードの修正を開始します。木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h2 [L30 R60 ]
|	└	30 ⚖️1 h1 [L10  P40]
|	|	└	10 ⚖️0 h0 [  P30]
挿入しました。木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h2 [L30 R60 ]
|	└	30 ⚖️1 h1 [L10  P40]
|	|	└	10 ⚖️0 h0 [  P30]

# 20 を挿入します。
高さを更新しました。(-1 -> 0) 木構造を降順で表示します。
┌	20 ⚖️0 h0 [  P10]
平衡定数を更新しました。(L0 - R1 = -1)木構造を降順で表示します。
|	┌	20 ⚖️0 h0 [  P10]
└	10 ⚖️-1 h0 [ R20 P30]
高さを更新しました。(0 -> 1) 木構造を降順で表示します。
|	┌	20 ⚖️0 h0 [  P10]
└	10 ⚖️-1 h1 [ R20 P30]
平衡定数を更新しました。(L2 - R0 = 2)木構造を降順で表示します。
└	30 ⚖️2 h1 [L10  P40]
|	|	┌	20 ⚖️0 h0 [  P10]
|	└	10 ⚖️-1 h1 [ R20 P30]
高さを更新しました。(1 -> 2) 木構造を降順で表示します。
└	30 ⚖️2 h2 [L10  P40]
|	|	┌	20 ⚖️0 h0 [  P10]
|	└	10 ⚖️-1 h1 [ R20 P30]
平衡定数を更新しました。(L3 - R2 = 1)木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️1 h2 [L30 R60 ]
|	└	30 ⚖️2 h2 [L10  P40]
|	|	|	┌	20 ⚖️0 h0 [  P10]
|	|	└	10 ⚖️-1 h1 [ R20 P30]
高さを更新しました。(2 -> 3) 木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️1 h3 [L30 R60 ]
|	└	30 ⚖️2 h2 [L10  P40]
|	|	|	┌	20 ⚖️0 h0 [  P10]
|	|	└	10 ⚖️-1 h1 [ R20 P30]
挿入しました。平衡定数が不正なノードの修正を開始します。木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️1 h3 [L30 R60 ]
|	└	30 ⚖️2 h2 [L10  P40]
|	|	|	┌	20 ⚖️0 h0 [  P10]
|	|	└	10 ⚖️-1 h1 [ R20 P30]
平衡定数が不正なノードを発見しました。α: 10, β: 30
パターン3. 最も高い部分木が、βノードの左右孫に存在する場合
平衡定数を更新しました。(L0 - R0 = 0)木構造を降順で表示します。
└	10 ⚖️0 h1 [  P20]
高さを更新しました。(1 -> 0) 木構造を降順で表示します。
└	10 ⚖️0 h0 [  P20]
平衡定数を更新しました。(L1 - R0 = 1)木構造を降順で表示します。
└	20 ⚖️1 h0 [L10  P30]
|	└	10 ⚖️0 h0 [  P20]
高さを更新しました。(0 -> 1) 木構造を降順で表示します。
└	20 ⚖️1 h1 [L10  P30]
|	└	10 ⚖️0 h0 [  P20]
平衡定数を更新しました。(L2 - R0 = 2)木構造を降順で表示します。
└	30 ⚖️2 h2 [L20  P40]
|	└	20 ⚖️1 h1 [L10  P30]
|	|	└	10 ⚖️0 h0 [  P20]
高さを更新しました。(-1 -> 1) 木構造を降順で表示します。
└	20 ⚖️1 h1 [L10  P30]
|	└	10 ⚖️0 h0 [  P20]
平衡定数を更新しました。(L2 - R0 = 2)木構造を降順で表示します。
└	30 ⚖️2 h2 [L20  P40]
|	└	20 ⚖️1 h1 [L10  P30]
|	|	└	10 ⚖️0 h0 [  P20]
αノードを左側に回転させるました。木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️1 h3 [L30 R60 ]
|	└	30 ⚖️2 h2 [L20  P40]
|	|	└	20 ⚖️1 h1 [L10  P30]
|	|	|	└	10 ⚖️0 h0 [  P20]
平衡定数を更新しました。(L0 - R0 = 0)木構造を降順で表示します。
┌	30 ⚖️0 h2 [  P20]
高さを更新しました。(2 -> 0) 木構造を降順で表示します。
┌	30 ⚖️0 h0 [  P20]
平衡定数を更新しました。(L1 - R1 = 0)木構造を降順で表示します。
|	┌	30 ⚖️0 h0 [  P20]
└	20 ⚖️0 h1 [L10 R30 P40]
|	└	10 ⚖️0 h0 [  P20]
高さを更新しました。(-1 -> 1) 木構造を降順で表示します。
|	┌	30 ⚖️0 h0 [  P20]
└	20 ⚖️0 h1 [L10 R30 P40]
|	└	10 ⚖️0 h0 [  P20]
平衡定数を更新しました。(L2 - R2 = 0)木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h3 [L20 R60 ]
|	|	┌	30 ⚖️0 h0 [  P20]
|	└	20 ⚖️0 h1 [L10 R30 P40]
|	|	└	10 ⚖️0 h0 [  P20]
高さを更新しました。(3 -> 2) 木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h2 [L20 R60 ]
|	|	┌	30 ⚖️0 h0 [  P20]
|	└	20 ⚖️0 h1 [L10 R30 P40]
|	|	└	10 ⚖️0 h0 [  P20]
挿入しました。木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h2 [L20 R60 ]
|	|	┌	30 ⚖️0 h0 [  P20]
|	└	20 ⚖️0 h1 [L10 R30 P40]
|	|	└	10 ⚖️0 h0 [  P20]

# 30 を探索します。
探索に成功しました。木構造を降順で表示します。
┌	30 ⚖️0 h0 [  P20]

# 55 を探索します。
探索に失敗しました。

# 20 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
|	┌	30 ⚖️0 h0 [  P20]
└	20 ⚖️0 h1 [L10 R30 P40]
|	└	10 ⚖️0 h0 [  P20]
ケース3. 削除対象が2つの子を持つ場合
### 20 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
└	20 ⚖️0 h0 [  P10]
ケース1. 削除対象が葉ノードな場合
平衡定数を更新しました。(L0 - R1 = -1)木構造を降順で表示します。
|	┌	30 ⚖️0 h0 [  P10]
└	10 ⚖️-1 h1 [ R30 P40]
木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h2 [L10 R60 ]
|	|	┌	30 ⚖️0 h0 [  P10]
|	└	10 ⚖️-1 h1 [ R30 P40]

# 40 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P40]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	40 ⚖️0 h2 [L10 R60 ]
|	|	┌	30 ⚖️0 h0 [  P10]
|	└	10 ⚖️-1 h1 [ R30 P40]
ケース3. 削除対象が2つの子を持つ場合
### 40 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
┌	40 ⚖️0 h0 [  P10]
ケース1. 削除対象が葉ノードな場合
平衡定数を更新しました。(L0 - R0 = 0)木構造を降順で表示します。
└	10 ⚖️0 h1 [  P30]
高さを更新しました。(1 -> 0) 木構造を降順で表示します。
└	10 ⚖️0 h0 [  P30]
平衡定数を更新しました。(L1 - R2 = -1)木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P30]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	30 ⚖️-1 h2 [L10 R60 ]
|	└	10 ⚖️0 h0 [  P30]
木構造を降順で表示します。
|	┌	60 ⚖️1 h1 [L50  P30]
|	|	└	50 ⚖️0 h0 [  P60]
♢ >>>	30 ⚖️-1 h2 [L10 R60 ]
|	└	10 ⚖️0 h0 [  P30]

# 60 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
┌	60 ⚖️1 h1 [L50  P30]
|	└	50 ⚖️0 h0 [  P60]
ケース2.1. 削除対象が子ノードを左側に1つ持つ場合 (対象が根でない)
平衡定数を更新しました。(L1 - R1 = 0)木構造を降順で表示します。
|	┌	50 ⚖️0 h0 [  P30]
♢ >>>	30 ⚖️0 h2 [L10 R50 ]
|	└	10 ⚖️0 h0 [  P30]
高さを更新しました。(2 -> 1) 木構造を降順で表示します。
|	┌	50 ⚖️0 h0 [  P30]
♢ >>>	30 ⚖️0 h1 [L10 R50 ]
|	└	10 ⚖️0 h0 [  P30]
木構造を降順で表示します。
|	┌	50 ⚖️0 h0 [  P30]
♢ >>>	30 ⚖️0 h1 [L10 R50 ]
|	└	10 ⚖️0 h0 [  P30]

# 30 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
|	┌	50 ⚖️0 h0 [  P30]
♢ >>>	30 ⚖️0 h1 [L10 R50 ]
|	└	10 ⚖️0 h0 [  P30]
ケース3. 削除対象が2つの子を持つ場合
### 30 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
└	30 ⚖️0 h0 [  P10]
ケース1. 削除対象が葉ノードな場合
平衡定数を更新しました。(L0 - R1 = -1)木構造を降順で表示します。
|	┌	50 ⚖️0 h0 [  P10]
♢ >>>	10 ⚖️-1 h1 [ R50 ]
木構造を降順で表示します。
|	┌	50 ⚖️0 h0 [  P10]
♢ >>>	10 ⚖️-1 h1 [ R50 ]

# 50 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
┌	50 ⚖️0 h0 [  P10]
ケース1. 削除対象が葉ノードな場合
平衡定数を更新しました。(L0 - R0 = 0)木構造を降順で表示します。
♢ >>>	10 ⚖️0 h1 [  ]
高さを更新しました。(1 -> 0) 木構造を降順で表示します。
♢ >>>	10 ⚖️0 h0 [  ]
木構造を降順で表示します。
♢ >>>	10 ⚖️0 h0 [  ]

# 10 を削除します。
削除対象のノードを表示します。木構造を降順で表示します。
♢ >>>	10 ⚖️0 h0 [  ]
ケース0. 削除対象が根ノードで葉ノードな場合
木構造が存在しません。
```
